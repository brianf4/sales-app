<%- include('partials/header') -%>

<div class="p-3 h-full border-2 border-red-400 flex flex-col">
  <div class="navbar bg-base-300 rounded-t-md">
    <a class="btn btn-ghost normal-case text-4xl" href="/profile">Inventory Management App</a>

    <div class="gap-x-6">

      <h2 id="change" class="text-4xl font-semibold"> <%= user.userName %></h2>
      <div class="avatar placeholder dropdown dropdown-end">
        <label tabindex="0" class="btn m-1 bg-neutral-focus text-neutral-content rounded-full h-24 w-24 text-4xl">
          <%= user.userName[0] %>
        </label>
        <ul tabindex="0" class="dropdown-content menu p-2 shadow bg-base-100 rounded-box w-52">
          <li class="text-center text-xl font-medium"><a href="/logout">Logout</a></li>
          <li class="text-xl font-medium"><a>Settings</a></li>
        </ul>
      </div> 

    </div>

  </div>

  <div class="mainContainer border-2 h-full border-green-400 flex">
    <div class="leftSide">
        <aside>
            <ul class="pt-20 text-center text-2xl flex flex-col gap-y-20">
                <li>
                  <button class="text-2xl btn btn-lg btn-wide btn-primary w-10/12">
                    <a class="hover:text-white" href=""><i class="fa-solid fa-cube"></i> Dashboard</a>
                  </button>
                </li>
                <li>
                  <button class="text-2xl btn btn-lg btn-wide btn-primary w-10/12">
                    <a class="hover:text-white" href=""><i class="fa-regular fa-clipboard"></i> Inventory</a>
                  </button>
                </li>
                <li>
                  <button class="text-2xl btn btn-lg btn-wide btn-primary w-10/12">
                    <a class="hover:text-white" href=""><i class="fa-solid fa-chart-line"></i> Sales</a>
                  </button>
                </li>
                <li>
                  <button class="text-2xl btn btn-lg btn-wide btn-primary w-10/12">
                    <a class="hover:text-white" href=""><i class="fa-solid fa-gear"></i> Settings</a>
                  </button>
                </li>
            </ul>
        </aside>
    </div>

    <div class="rightSide flex flex-col justify-around py-4 px-4 border-2 border-red-300">
        
          <div class="stats shadow drop-shadow-sm border-2 border-black">
    
            <div class="stat">
              <div class="stat-figure text-primary">
                <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" class="inline-block w-8 h-8 stroke-current"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4.318 6.318a4.5 4.5 0 000 6.364L12 20.364l7.682-7.682a4.5 4.5 0 00-6.364-6.364L12 7.636l-1.318-1.318a4.5 4.5 0 00-6.364 0z"></path></svg>
              </div>
              <div class="stat-title ">Total Likes</div>
              <div class="stat-value text-primary">25.6K</div>
              <div class="stat-desc">21% more than last month</div>
            </div>
            
            <div class="stat">
              <div class="stat-figure text-secondary">
                <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" class="inline-block w-8 h-8 stroke-current"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 10V3L4 14h7v7l9-11h-7z"></path></svg>
              </div>
              <div class="stat-title">Page Views</div>
              <div class="stat-value text-secondary">2.6M</div>
              <div class="stat-desc">21% more than last month</div>
            </div>
            
            <div class="stat">
              <div class="stat-figure text-secondary">
                <div class="avatar online">
                  <div class="w-16 rounded-full">
                    <img src="https://placeimg.com/128/128/people" />
                  </div>
                </div>
              </div>
              <div class="stat-value">86%</div>
              <div class="stat-title">Tasks done</div>
              <div class="stat-desc text-secondary">31 tasks remaining</div>
            </div>
            
          </div>

          <section class="graph flex justify-between gap-x-12 p-8 border-2 border-black">
            <div class="w-3/4 border-2 border-black">
              <canvas id="myChart" class=" border-2 border-red-300"></canvas>
            </div>

            <div class="card border-2 border-black w-1/4">
              <span class="block text-center text-5xl font-semibold py-4">Add Item</span>
              <div class="border-2 border-cyan-300 h-full">
                <form action="/post/createPost" enctype="multipart/form-data" method="POST">
                  <div class="mb-3">
                    <label for="title" class="form-label text-2xl">Name of the Item</label>
                    <input type="text" class="form-control text-3xl" id="nameOfItem" name="nameOfItem" required>
                  </div>
                  <div class="mb-3">
                    <label for="cost" class="form-label text-2xl">Cost of Item</label>
                    <input type="text" class="form-control text-3xl" id="costOfItem" name="costOfItem" required>
                  </div>
                  <div class="mb-3">
                    <label for="items" class="form-label text-2xl">Amnt of Items</label>
                    <input type="number" class="form-control text-3xl" id="numOfItems" name="numOfItems" required>
                  </div>
                  <div class="mb-3 border-2">
                    <label for="date"></label>
                    <input type="date" class="text-2xl w-full px-4" id="createdAt" name="createdAt" required>
                  </div>
                  <button class="btn btn-outline btn-success">Success</button>
                </form>
              </div>
            </div>
          </section>
            
          
          <div class="border-2 border-black">
            <table class="table table-zebra w-full">
              <h3>Recent Items</h3>
              <!-- head -->
              <thead>
                <tr>
                  <th class="text-2xl font-bold">Item Id</th>
                  <th class="text-2xl font-bold">Date</th>
                  <th class="text-2xl font-bold">Name</th>
                  <th class="text-2xl font-bold">Cost</th>
                  <th class="text-2xl font-bold">QTY</th>
                </tr>
              </thead>
              <tbody>  
                
                <% for (let i = 0; i < posts.length; i++) { %>
                  <% if( i === 4) {%>
                  <% break; %>
                  <%}%>  
                <!-- Row -->
                <tr class="text-2xl">
                  <th> <%= '#' + posts[i]._id.toString().slice(-5).toUpperCase() %> </th>
                  <td> <%= posts[i].createdAt %> </td>
                  <td> <%= posts[i].nameOfItem %> </td>
                  <td> <%= posts[i].costOfItem %> </td>
                  <td> <i class="p-1 border-1 border-black fa-solid fa-minus hover:cursor-pointer hover:bg-accent hover:text-white hover:border-accent rounded"></i> 

                    <span class="px-3 font-semibold">1</span> 

                    <i class=" p-1 border-1 border-black fa-solid fa-plus hover:cursor-pointer hover:bg-primary hover:text-white hover:border-primary rounded"></i> 

                    <form action="/post/deletePost/<%= posts[i]._id %>?_method=DELETE" method="POST" class="inline">
                      <button class="px-2" type="submit">
                        <i class="pl-2 fa-solid fa-trash-can hover:cursor-pointer hover:-rotate-12"></i>
                      </button>
                    </form>

                  </td>
                </tr>
                <% } %>
              </tbody>
            </table>
          </div>

    </div>    

  </div>

 
</div> 



<script>
  const labels = [
    'January',
    'February',
    'March',
    'April',
    'May',
    'June',
    'July',
    'August',
    'September',
    'October',
    'November',
    'December'
  ];

  const data = {
    labels: labels,
    datasets: [{
      label: 'My First dataset',
      backgroundColor: 'rgb(255, 99, 132)',
      borderColor: 'rgb(255, 99, 132)',
      data: [0, 10, 5, 2, 20, 30, 45],
    }]
  };

  const config = {
    type: 'line',
    data: data,
    options: {}
  };
</script>
<script>
  const myChart = new Chart(
    document.getElementById('myChart'),
    config
  );
</script>




<%- include('partials/footer') -%>


